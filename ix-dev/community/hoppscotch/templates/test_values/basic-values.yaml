hoppscotch:
  # restart: unless-stopped
  # additional_envs: []

  postgres_image_selector: postgres_17_image
  db_password: hoppscotch

  domains:
    backend: https://localhost:33170
    frontend: https://localhost:33000
    admin: https://localhost:33100
    app_bundle: https://localhost:33200

  oauth:
    email:
      enabled: true
      address_from: Hoppscotch on LocalHost
      secure: true
      host: localhost
      port: 587
      user: hopp@localhost
      password: hopp
      tls_reject_unauthorized: true
    google:
      enabled: false
    github:
      enabled: false
    microsoft:
      enabled: false

  # envs:
    # basic:
    #   DATA_ENCRYPTION_KEY: exactly32-chars-a-zA-Z0-9andsome
    #
    #   VITE_APP_TOS_LINK: https://docs.hoppscotch.io/support/terms
    #   VITE_APP_PRIVACY_POLICY_LINK: https://docs.hoppscotch.io/support/privacy
    #
    #   MAILER_SMTP_ENABLE: false
    #   MAILER_USE_CUSTOM_CONFIGS: false
    #   MAILER_ADDRESS_FROM: Hoppscotch running on TrueNAS <hoppo@truenas.local>
    #
    #   MAILER_SMTP_URL: smtp://hopp@hoppscotch.local:pass@smtp.example.com:1025 # used if custom mailer configs is false
    #
    #   # The following are used if custom mailer configs is true
    #   MAILER_SMTP_HOST: smtp.domain.com
    #   MAILER_SMTP_PORT: 587
    #   MAILER_SMTP_SECURE: true
    #   MAILER_SMTP_USER: user@domain.com
    #   MAILER_SMTP_PASSWORD: pass
    #   MAILER_TLS_REJECT_UNAUTHORIZED: true
    #
    #   # Rate Limit Config
    #   RATE_LIMIT_TTL: 60  # In seconds
    #   RATE_LIMIT_MAX: 100 # Max requests per IP

    # advanced:
    #   # JWT
    #   JWT_SECRET: secret123
    #   SESSION_SECRET: another-secret
    #   TOKEN_SALT_COMPLEXITY: 10 # do we even expose this?
    #   MAGIC_LINK_TOKEN_VALIDITY: 3 # do we even expose this?
    #   # 7 days (in milliseconds)
    #   REFRESH_TOKEN_VALIDITY: 604800000 # do we even expose this?
    #   # 1 day (in milliseconds)
    #   ACCESS_TOKEN_VALIDITY: 86400000 # do we even expose this?
    #
    #   VITE_PROXYSCOTCH_ACCESS_TOKEN: "" # TODO: no idea what this is for

    # # FIXME: these should probably go into ix_values.yaml
    # fixed:
    #   # Maybe needed when using https
    #   ALLOW_SECURE_COOKIES: true # do we even expose this?
    #   ENABLE_SUBPATH_BASED_ACCESS: true
    #
    #   VITE_ADMIN_URL: http://localhost:3100
    #   VITE_BASE_URL: http://localhost:3000
    #   VITE_SHORTCODE_BASE_URL: http://localhost:3000
    #
    #   VITE_BACKEND_API_URL: http://localhost:3170/v1
    #   VITE_BACKEND_GQL_URL: http://localhost:3170/graphql
    #   VITE_BACKEND_WS_URL: ws://localhost:3170/graphql


network:
  host_network: false
  backend_web_port:
    mode: host
    bind_mode: published
    port_number: 33170
  frontend_web_port:
    mode: host
    bind_mode: published
    port_number: 33000
  admin_web_port:
    mode: host
    bind_mode: published
    port_number: 33100
  app_bundle_port:
    mode: host
    bind_mode: published
    port_number: 33200

ix_volumes:
  postgres_data: /opt/tests/mnt/hoppscotch-postgres-data

storage:
  postgres_data:
    type: ix_volume
    ix_volume_config:
      dataset_name: postgres_data
      create_host_path: true
  additional_storage: []

resources:
  limits:
    cpus: 2.0
    memory: 4096
