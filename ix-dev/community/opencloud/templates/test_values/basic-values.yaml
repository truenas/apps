resources:
  limits:
    cpus: 2.0
    memory: 4096

opencloud:
  app_url: https://10.20.30.6:8080
  insecure_access: true
  full_text_search:
    enabled: true
  collaboration:
    enabled: true
    type: collabora
    wopi_url: https://10.20.30.6:8082
    url: https://10.20.30.6:9980
    insecure: true
  extra_services: []
  smtp:
    enabled: false
    sender: null
    host: null
    port: null
    insecure: false
    encryption: null
    username: null
    password: null
  apps:
    drawio: true
    progress_bars: true
    json_viewer: true
    external_sites: true
    unzip: true
    cast: true
    arcade: true
    maps: true
    importer: true
  additional_csp:
    - directive: connect-src
      items:
        - https://raw.githubusercontent.com/opencloud-eu/awesome-apps/
        - https://update.opencloud.eu/
    - directive: frame-src
      items:
        - https://embed.diagrams.net/
    - directive: img-src
      items:
        - https://raw.githubusercontent.com/opencloud-eu/awesome-apps/
        - https://tile.openstreetmap.org/
  additional_envs:
    - name: OC_LOG_PRETTY
      value: "true"
    # - name: OC_LOG_LEVEL
    #   value: debug
    - name: GRAPH_AVAILABLE_ROLES
      value: "b1e2218d-eef8-4d4c-b82d-0f1a1b48f3b5,a8d5fe5e-96e3-418d-825b-534dbdf22b99,fb6c3e19-e378-47e5-b277-9732f9de6e21,58c63c02-1d89-4572-916a-870abc5a1b7d,2d00ce52-1fc2-4dbc-8b95-a73b73395f5a,1c996275-f1c9-4e71-abdf-a42f6495e960,312c0871-5ef7-4b3a-85b6-0e4074c64049,aa97fe03-7980-45ac-9e50-b325749fd7e6"
    # - name: NATS_NATS_HOST
    #   value: "0.0.0.0"
    # - name: GRAPH_GRPC_ADDR
    #   value: "0.0.0.0:9142"
    # - name: COLLABORATION_GRPC_ADDR
    #   value: "0.0.0.0:9301"

network:
  host_network: false
  web_port:
    bind_mode: published
    port_number: 8080
  metrics_port:
    bind_mode: published
    port_number: 8081
  collaboration_port:
    bind_mode: published
    port_number: 8082
  certificate_id: null

run_as:
  user: 568
  group: 568

ix_volumes:
  # config: /opt/tests/mnt/opencloud/config
  # data: /opt/tests/mnt/opencloud/data
  config: /mnt/data/opencloud/config
  data: /mnt/data/opencloud/data

storage:
  config:
    type: ix_volume
    ix_volume_config:
      dataset_name: config
      create_host_path: true
  data:
    type: ix_volume
    ix_volume_config:
      dataset_name: data
      create_host_path: true
  additional_storage: []
