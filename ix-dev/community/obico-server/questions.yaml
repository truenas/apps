# Configuration questions for TrueNAS UI

groups:
  - name: Obico Configuration
    description: Obico Server Configuration
    questions:
      - variable: OBICO_PORT
        label: Web UI Port
        description: Port to access Obico Server
        default: 3334
        type: int
        min: 1024
        max: 65535
        required: true

      - variable: ALLOWED_HOSTS
        label: Allowed Hosts
        description: Comma-separated list of allowed hostnames
        default: "*"
        type: string
        required: false

      - variable: TZ
        label: Timezone
        description: Timezone for the application
        default: UTC
        type: string
        required: false

  - name: Database Configuration
    description: PostgreSQL Database Configuration
    questions:
      - variable: DB_NAME
        label: Database Name
        description: PostgreSQL database name
        default: obico
        type: string
        required: true

      - variable: DB_USER
        label: Database User
        description: PostgreSQL username
        default: obico
        type: string
        required: true

      - variable: DB_PASSWORD
        label: Database Password
        description: PostgreSQL password (CHANGE THIS!)
        default: changeme
        type: password
        required: true

  - name: Django Configuration
    description: Django Application Settings
    questions:
      - variable: DJANGO_SECRET_KEY
        label: Django Secret Key
        description: >-
          Secret key for Django security.
          Generate with: openssl rand -base64 32
        default: change-me-in-production
        type: password
        required: true

      - variable: DEBUG
        label: Debug Mode
        description: Enable Django debug mode (false for production)
        default: false
        type: boolean
        required: false

  - name: Email Configuration
    description: SMTP Email Settings (Optional)
    questions:
      - variable: EMAIL_ENABLED
        label: Enable Email Notifications
        description: Enable email notifications for print failures
        default: false
        type: boolean
        required: false

      - variable: EMAIL_HOST
        label: SMTP Server
        description: Email provider SMTP server (e.g., smtp.gmail.com)
        default: ""
        type: string
        show_if: [["EMAIL_ENABLED", "=", true]]
        required: false

      - variable: EMAIL_PORT
        label: SMTP Port
        description: SMTP port (usually 587)
        default: 587
        type: int
        show_if: [["EMAIL_ENABLED", "=", true]]
        required: false

      - variable: EMAIL_HOST_USER
        label: SMTP Username
        description: Email address for SMTP authentication
        default: ""
        type: string
        show_if: [["EMAIL_ENABLED", "=", true]]
        required: false

      - variable: EMAIL_HOST_PASSWORD
        label: SMTP Password
        description: SMTP password or app password (for Gmail use app password)
        default: ""
        type: password
        show_if: [["EMAIL_ENABLED", "=", true]]
        required: false

      - variable: EMAIL_USE_TLS
        label: Use TLS
        description: Enable TLS for SMTP connection
        default: true
        type: boolean
        show_if: [["EMAIL_ENABLED", "=", true]]
        required: false

      - variable: DEFAULT_FROM_EMAIL
        label: From Email Address
        description: Email address to send notifications from
        default: noreply@obico.local
        type: string
        show_if: [["EMAIL_ENABLED", "=", true]]
        required: false
